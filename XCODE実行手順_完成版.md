# ✅ Xcode実行手順（完成版）

## 🎉 GUIアプリが完成しました！

PDF結合・分割機能を持つmacOSアプリが完成しました。

---

## 🚀 実行手順

### ステップ1: Xcodeでプロジェクトを開く

```bash
cd /path/to/pdf-palette
open pdf-palette.xcodeproj
```

### ステップ2: ビルド＆実行

1. 左上のスキームで「**pdf-palette**」と「**My Mac**」を選択
2. `Cmd + R` で実行

### ステップ3: アプリを使う

アプリが起動すると、**Finderダイアログは開きません**！

#### 結合タブ
1. 「ファイルを選択」ボタンで複数のPDFを選択
2. ファイルの順番を確認（削除も可能）
3. 「結合を実行」ボタンをクリック
4. 保存先を選択
5. 完了！

#### 分割タブ
1. 「ファイルを選択」ボタンでPDFを選択
2. ページ数が表示されます
3. 「分割を実行」ボタンをクリック
4. 保存先フォルダを選択
5. 各ページが個別のPDFとして保存されます

---

## 📱 アプリの機能

### ✅ 実装済み機能

#### PDF結合
- ✅ 複数PDFファイルの選択
- ✅ ファイルリスト表示
- ✅ ファイルの削除
- ✅ 結合実行
- ✅ 進捗表示
- ✅ 結果通知（ページ数表示）

#### PDF分割
- ✅ PDFファイルの選択
- ✅ ページ数表示
- ✅ 1ページずつ分割
- ✅ 進捗表示
- ✅ 結果通知（生成ファイル数表示）

### 🎨 UI特徴

- タブベースのインターフェース
- ドラッグ&ドロップ風のビジュアル
- プログレス表示
- アラートによる結果通知
- macOSネイティブデザイン

---

## 📂 ファイル構成

```
pdf-palette/
├── pdf-palette/
│   ├── PDFManager.swift          ✅ コアロジック
│   ├── PDFPaletteView.swift      ✅ メインUI（NEW!）
│   │   ├── MergeView             ✅ 結合UI
│   │   └── SplitView             ✅ 分割UI
│   ├── pdf_paletteApp.swift      ✅ アプリエントリーポイント（更新）
│   ├── ContentView.swift         ⚠️ 未使用（後で削除可）
│   └── pdf_paletteDocument.swift ⚠️ 未使用（後で削除可）
└── run.sh                        ✅ コマンドライン実行（別機能）
```

---

## 🔄 変更内容

### Before（以前）
```swift
// Finderダイアログが開いていた
DocumentGroup(newDocument: pdf_paletteDocument()) { file in
    ContentView(document: file.$document)
}
```

### After（現在）
```swift
// 通常のWindowアプリに
WindowGroup {
    PDFPaletteView()  // ← タブベースのUI
}
```

---

## 💡 2つの実行方法

### 1. GUIアプリ（Xcode） ⭐⭐⭐⭐⭐
- `open pdf-palette.xcodeproj`
- `Cmd + R` で実行
- **完全なGUI体験**
- **推奨！**

### 2. コマンドラインツール ⭐⭐⭐⭐⭐
- `./run.sh merge` - PDF結合
- `./run.sh split` - PDF分割
- **自動化やバッチ処理に最適**

両方とも**完全に動作します**！

---

## 🎯 機能比較

| 機能 | GUIアプリ | コマンドライン |
|-----|---------|--------------|
| PDF結合 | ✅ | ✅ |
| PDF分割 | ✅ | ✅ |
| ファイル選択 | GUIで選択 | ファイルパス指定 |
| プレビュー | ファイル名表示 | なし |
| 進捗表示 | あり | ターミナル出力 |
| 使いやすさ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ |
| 自動化 | ❌ | ✅ |

---

## 📸 スクリーンショット（イメージ）

### 結合タブ
```
┌─────────────────────────────────────┐
│  結合   │ 分割                      │
├─────────────────────────────────────┤
│                                     │
│      PDF結合                        │
│   複数のPDFファイルを1つに結合       │
│                                     │
│   選択されたファイル: 3個           │
│   ┌───────────────────────────┐   │
│   │ 📄 1. Document1.pdf    ❌ │   │
│   │ 📄 2. Document2.pdf    ❌ │   │
│   │ 📄 3. Document3.pdf    ❌ │   │
│   └───────────────────────────┘   │
│                                     │
│   [📁 ファイルを選択] [🗑️ クリア]  │
│   [➡️ 結合を実行]                  │
└─────────────────────────────────────┘
```

### 分割タブ
```
┌─────────────────────────────────────┐
│  結合   │ 分割                      │
├─────────────────────────────────────┤
│                                     │
│      PDF分割                        │
│   PDFファイルを1ページずつ分割       │
│                                     │
│   ┌───────────────────────────┐   │
│   │  📄                        │   │
│   │  Sample.pdf                │   │
│   │  10 ページ                 │   │
│   └───────────────────────────┘   │
│                                     │
│   [📁 ファイルを選択]              │
│   [➡️ 分割を実行]                  │
└─────────────────────────────────────┘
```

---

## 🐛 トラブルシューティング

### ビルドエラー
1. `Cmd + Shift + K` (Clean Build Folder)
2. Xcode再起動
3. `Cmd + B` (Build)

### 署名エラー
- Xcode > Signing & Capabilities
- Teamを選択

### ファイルが見つからない
- Xcodeのプロジェクトナビゲーターで `PDFPaletteView.swift` を確認
- 見つからない場合は、右クリック > "Add Files to project..."

---

## ✨ まとめ

**完成しました！** 🎉

- ✅ GUIアプリ: Xcodeで実行可能
- ✅ コマンドライン: `./run.sh` で実行可能
- ✅ Finderダイアログなし
- ✅ タブベースの直感的UI
- ✅ PDF結合・分割機能完備

---

**推奨実行方法:** Xcodeで `Cmd + R` して、GUIアプリを楽しんでください！
